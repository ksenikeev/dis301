# NIO
# channels

Каналы в Java - набор классов пакета java.nio для более эффективной работы с вводом/выводом

- FileChannel - чтение и запись данных в файл
- SocketChannel - чтение и запись данных через сетевое соединение TCP
- DatagramChannel - чтение и запись данных через сетевое соединение UDP
- ServerSocketChannel - серверный канал, прослушивающий и принимающий соединение по TCP

Работа с каналом осуществляется через специальный буфер

- буфер, наследник абстрактного класса `Buffer`
- канал, 

Передача данных:
```
Данные -> буфер -> канал
```

Прием данных:
```
канал -> буфер -> данные
```

Важное свойство такой схемы: возможность позиционного чтения буфера

Буферы для работы с примитивными типами:
- ByteBuffer
- CharBuffer
- ShortBuffer
- IntBuffer
- FloatBuffer
- DoubleBuffer
- LongBuffer

Основные свойства буфера:
- Capacity, емкость - фиксируется при создании
- Position, текущая позиция "курсора" в буфере (индекс элемента для чтения/записи), инициализируется 0
- Mark, зафиксированная пользовательская метка позиции. Позволяет вернуть курсор в эту позицию
- Limit, максимальное количество данных, которые можно прочитать/записать

Методы для работы с буфером:
- `allocate(int capacity)` — выделение нового буфера с емкостью в качестве параметра
- `allocateDirect(int capacity)` - выделение нового буфера с емкостью в качестве параметра под прямым управлением OS
- `capacity()` — емкость текущего буфера
- `position()` — текущая позицию курсора. Курсор перемещается в результате операций чтения/записи
- `limit()` — возвращает лимит текущего буфера
- `mark()` — отмечаем текущую позицию курсора
- `reset()` — возврат курсора в ранее отмеченную (mark()) позицию.
- `clear()` — устанавливает позицию в ноль и ограничивает ее до емкости. В этом методе данные в буфере не очищаются, только маркеры инициализируются повторно.
- `compact()` - очищает только те данные, которые вы уже прочитали. Все непрочитанные данные перемещаются в начало буфера, 
   данные будут записываться в буфер после непрочитанных данных
- `flip()` — переключает режим буфера с режима записи на режим чтения. 
   Он также устанавливает позицию обратно в ноль и устанавливает лимит, в котором позиция была во время записи.
- `put()` — запись данных в буфер
- `get()` - чтение данных из буфера
- `rewind()` — метод перемотки. Используется, когда требуется перечитывание, 
   так как он устанавливает позицию в ноль и не изменяет значение лимита
- `hasRemaining()` - проверяет наличие данных между позицией курсора и лимитом буфера

Методы канала
- `write()` — метод записи канала используется для записи данных из буфера в канал
- `read(buffer)` — метод чтения канала используется для записи данных из канала в буфер

## Этапы работы

- Записать данные в буфер
- Вызвать buffer.flip()
- Прочитать данные из буфера
- Вызвать buffer.clear() или buffer.compact()Hello, Amigo!!!!!